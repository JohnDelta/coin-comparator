{"version":3,"sources":["App.js","index.js"],"names":["Menu","setData","useState","apiKey","setApiKey","coins","setCoins","InputCoin","setInputCoin","useEffect","FetchData","a","length","uri","API_URI","join","myHeaders","Headers","append","fetch","method","headers","redirect","then","response","json","result","catch","error","console","log","className","href","target","rel","type","onChange","e","preventDefault","value","OnInputApiKeyChange","defaultValue","placeholder","coin","OnInputCoinChange","onClick","prevCoins","filter","item","map","index","CoinsTable","hideChangeRates","setHideChangeRates","hidableHeaderColumns","getHidableColumns","percentChange90d","percentChange60d","percentChange30d","percentChange7d","percentChange24h","percentChange1h","data","coinsData","Object","keys","forEach","key","price","EUR_ID","percent_change_1h","previous1hPrice","percent_change_24h","previous24hPrice","percent_change_7d","previous7hPrice","percent_change_30d","previous30dPrice","percent_change_60d","previous60dPrice","percent_change_90d","previous90dPrice","compareValue","CalculateComparator","push","toFixed","sort","b","GetCoinsMapped","symbol","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.14a57d72.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css';\n\nconst EUR_ID = '2790';\n\nconst Menu = ({setData}) => {\n\n  const API_URI = 'https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest?';\n\n  const [apiKey, setApiKey] = useState('');\n\n  const [coins, setCoins] = useState([]);\n  \n  const [InputCoin, setInputCoin] = useState('');\n\n  useEffect(() => {\n    setCoins(coins);\n  }, [coins]);\n\n  const OnInputCoinChange = (e) => {\n    e.preventDefault();\n    let coin = e.target.value;\n    setInputCoin(coin);\n  };\n\n  const OnInputApiKeyChange = (e) => {\n    e.preventDefault();\n    let apiKey = e.target.value;\n    setApiKey(apiKey);\n  };\n  \n  const AddCoin = () => {\n    if (InputCoin === '') return;\n    setCoins(prevCoins => [...prevCoins, InputCoin]);\n  };\n  \n  const RemoveCoin = () => {\n    if (InputCoin === '') return;\n    setCoins(prevCoins => [...prevCoins.filter((item) => item !== InputCoin)]);\n  };\n  \n  const ClearCoins = () => {\n    setCoins([]);\n  }\n\n  const FetchData = async () => {\n    if (coins.length === 0 || apiKey === '') return;\n    let uri = API_URI + 'convert_id=' + EUR_ID + '&symbol=' + coins.join(','); \n    var myHeaders = new Headers();\n    myHeaders.append(\"X-CMC_PRO_API_KEY\", apiKey);\n    var requestOptions = {\n      method: 'GET',\n      headers: myHeaders,\n      redirect: 'follow'\n    };\n    fetch(uri, requestOptions)\n      .then(response => response.json())\n      .then(result => setData(result))\n      .catch(error => console.log('error', error));\n  }\n\n  return (\n    <div className='menu-container' key={coins.join(\"_\")}>\n      <div className='key-container'>\n        <p className='title'><a href='https://pro.coinmarketcap.com/login' target='_blank' rel='noreferrer'>CoinMarketCap</a>API Key</p>\n        <input type='text' onChange={(e) => {OnInputApiKeyChange(e)}} defaultValue={apiKey} />\n      </div>\n      <div className='control-container'>\n        <p className='title'>Input Coin</p>\n        <input type='text' placeholder='ETH' onChange={(e) => {OnInputCoinChange(e)}} />\n        <button className='add-button' onClick={() => {AddCoin()}}>Add</button>\n        <button className='remove-button' onClick={() => RemoveCoin()}>Remove</button>\n      </div>\n      <div className='coins-container'>\n        <p className='title'>Saved Coins</p>\n        <div className='coins'>\n          {coins.map((coin, index) => {\n            return (\n              <div key={'coin_'+index} className='coin'>{coin}</div>\n            );\n          })}\n        </div>\n        <button className='clear-button' onClick={() => {ClearCoins()}}>Clear</button>\n      </div>\n      <button className='fetch-button' onClick={() => {FetchData()}}>Load Data</button>\n    </div>\n  );\n};\n\nconst CoinsTable = ({response}) => {\n\n  const [hideChangeRates, setHideChangeRates] = useState(true);\n\n  // 1st. only average between the previous percent changes\n\n  const CalculateComparator = (\n      price,\n      percentChange1h,\n      percentChange24h,\n      percentChange7d,\n      percentChange30d,\n      percentChange60d,\n      percentChange90d) => {\n\n        let percentChange1hWeight = 1;\n        let percentChange24hWeight = 1;\n        let percentChange7dWeight = 0.9;\n        let percentChange30dWeight = 0.8;\n        let percentChange60dWeight = 0.6;\n        let percentChange90dWeight = 0.4;\n        \n        //let priceWeight = 1 * price;\n\n        let sum = percentChange1h * percentChange1hWeight + \n          percentChange24h * percentChange24hWeight + \n          percentChange7d * percentChange7dWeight + \n          percentChange30d * percentChange30dWeight + \n          percentChange60d * percentChange60dWeight + \n          percentChange90d * percentChange90dWeight;\n\n        let avg = sum / 6;\n\n        return avg;\n  }\n\n  const GetCoinsMapped = (response) => {\n\n    let data = response.data;\n\n    let coinsData = [];\n    let keys = Object.keys(data);\n\n    keys.forEach(key => {\n      \n      let price = data[key]['quote'][EUR_ID].price;\n\n      let percentChange1h = data[key]['quote'][EUR_ID].percent_change_1h;\n      let previous1hPrice = price - price * (percentChange1h / 100);\n\n      let percentChange24h = data[key]['quote'][EUR_ID].percent_change_24h;\n      let previous24hPrice = price - price * (percentChange24h / 100);\n\n      let percentChange7d = data[key]['quote'][EUR_ID].percent_change_7d;\n      let previous7hPrice = price - price * (percentChange7d / 100);\n\n      let percentChange30d = data[key]['quote'][EUR_ID].percent_change_30d;\n      let previous30dPrice = price - price * (percentChange30d / 100);\n\n      let percentChange60d = data[key]['quote'][EUR_ID].percent_change_60d;\n      let previous60dPrice = price - price * (percentChange60d / 100);\n\n      let percentChange90d = data[key]['quote'][EUR_ID].percent_change_90d;\n      let previous90dPrice = price - price * (percentChange90d / 100);\n\n      let compareValue = CalculateComparator(price,\n        percentChange1h,\n        percentChange24h,\n        percentChange7d,\n        percentChange30d,\n        percentChange60d,\n        percentChange90d);\n\n      coinsData.push({\n        'symbol': data[key]['symbol'], \n        'price': price.toFixed(4) + '€',\n        'percentChange1h': percentChange1h.toFixed(4) + '%',\n        'previous1hPrice': previous1hPrice.toFixed(4) + '€',\n        'percentChange24h': percentChange24h.toFixed(4) + '%',\n        'previous24hPrice': previous24hPrice.toFixed(4) + '€',\n        'percentChange7d': percentChange7d.toFixed(4) + '%',\n        'previous7hPrice': previous7hPrice.toFixed(4) + '€',\n        'percentChange30d': percentChange30d.toFixed(4) + '%',\n        'previous30dPrice': previous30dPrice.toFixed(4) + '€',\n        'percentChange60d': percentChange60d.toFixed(4) + '%',\n        'previous60dPrice': previous60dPrice.toFixed(4) + '€',\n        'percentChange90d': percentChange90d.toFixed(4) + '%',\n        'previous90dPrice': previous90dPrice.toFixed(4) + '€',\n        'compareValue': compareValue.toFixed(4)\n      });\n    });\n\n    coinsData.sort((a, b) => a.compareValue - b.compareValue); // Ascending\n\n    return coinsData;\n  }\n\n  if (response === null || response.length === 0) return [];\n\n  let hidableHeaderColumns = hideChangeRates ? [] : [\n    <div className='cell'>3 Months</div>,\n    <div className='cell'>2 Months</div>,\n    <div className='cell'>1 Month</div>,\n    <div className='cell'>7 Days</div>,\n    <div className='cell'>24 Hours</div>,\n    <div className='cell'>1 Hour</div>,\n  ];\n\n  const getHidableColumns = (coin) => {\n    return hideChangeRates ? [] : [\n      <div className='cell'>\n        <p>{coin.percentChange90d}</p>\n        {/* <p>{coin.previous90dPrice}</p> */}\n      </div>,\n      <div className='cell'>\n        <p>{coin.percentChange60d}</p>\n        {/* <p>{coin.previous60dPrice}</p> */}\n      </div>,\n      <div className='cell'>\n        <p>{coin.percentChange30d}</p>\n        {/* <p>{coin.previous30dPrice}</p> */}\n      </div>,\n      <div className='cell'>\n        <p>{coin.percentChange7d}</p>\n        {/* <p>{coin.previous7hPrice}</p> */}\n      </div>,\n      <div className='cell'>\n        <p>{coin.percentChange24h}</p>\n        {/* <p>{coin.previous24hPrice}</p> */}\n      </div>,\n      <div className='cell'>\n        <p>{coin.percentChange1h}</p>\n        {/* <p>{coin.previous1hPrice}</p> */}\n      </div>\n    ];\n  }\n\n  return (\n    <div className='coinsTable-container'>\n      <div className='table'>\n        <button onClick={() => setHideChangeRates(!hideChangeRates)} >{hideChangeRates ? 'Show' : 'Hide'} change rates</button>\n        <div className='header'>\n          <div className='cell'>Coin</div>\n          {hidableHeaderColumns}\n          <div className='cell'>Current Price</div>\n          <div className='cell'>Comparator</div>\n        </div>\n        {GetCoinsMapped(response).map((coin, index) => (\n          <div className='row' key={'coinRow'+index}>\n            <div className='cell'>{'#' + (index + 1) + ' ' + coin.symbol}</div>\n            {getHidableColumns(coin)}\n            <div className='cell'>\n              <p>{coin.price}</p>\n            </div>\n            <div className='cell'>{coin.compareValue}</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nconst App = () => {\n\n  const [data, setData] = useState([]);\n\n  return (\n    <div className='app-container'>\n      <Menu setData={setData} />\n      <CoinsTable response={data} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}